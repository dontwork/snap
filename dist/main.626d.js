(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),d={allowGameStart:!1,players:[{},{}],deck:void 0,dealCards:function(){var e;d.gameStarted=!0,(e=d.deck.deck_id,r.a.request({url:"https://deckofcardsapi.com/api/deck/"+e+"/draw/?count=52"})).then(function(e){var a=[];e.cards.map(function(e,t){var n=t%d.players.length;a.length<d.players.length&&(a[n]=[]),a[n].push(e.code)}),Promise.all(a.map(function(e,a){return t=d.deck.deck_id,n=a,o=e,r.a.request({url:"https://deckofcardsapi.com/api/deck/"+t+"/pile/"+n+"/add/?cards="+o.join(",")});var t,n,o})).then(function(e){return a=d.deck.deck_id,t=0,r.a.request({url:"https://deckofcardsapi.com/api/deck/"+a+"/pile/"+t+"/list/"});var a,t}).then(function(e){Object.keys(e.piles).map(function(a){d.players[a].cardsLeft=e.piles[a].remaining}),console.log(d.players)})})},addPlayer:function(){d.players.push({})},turnOfPlayer:0,gameStarted:!1},o=d,s={view:function(e){var a=e.attrs,t=a.controls,n=a.p;return r()(".player",[r()("span","Player"),r()(".controls",[r()("p","Press "+t.snap.toUpperCase()+" for snap"),r()("p","Press "+t.addToPile.toUpperCase()+" for add pile to card"),r()("h3",n.cardsLeft)])])}},c=[{snap:"a",addToPile:"s"},{snap:"d",addToPile:"f"},{snap:"g",addToPile:"h"},{snap:"j",addToPile:"k"},{snap:"o",addToPile:"p"}],i={view:function(e){e.state.players;return r()(".players-area",[r()(".players",[o.players.map(function(e,a){return r()(s,{p:e,controls:c[a]})})]),r()(".game-controls",[r()("button.add",{disabled:o.gameStarted,onclick:function(){o.addPlayer()}},"Add Player")])])}},p=(t(3),{oninit:function(){r.a.request({url:"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1"}).then(function(e){o.deck=e}).then(function(){o.allowGameStart=!0,r.a.redraw()})},view:function(){return r()(".snap",[r()(".pile",[r()("button",{disabled:!o.allowGameStart,onclick:o.dealCards},"Start the game")]),r()(i)])}});r.a.mount(document.body,p)},function(e,a){}],[[2,0,1]]]);
//# sourceMappingURL=main.626d.js.map